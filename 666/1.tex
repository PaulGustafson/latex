\documentclass{article}
\usepackage{../m}

\rnc{\d}{\pder}

\begin{document}
\noindent Paul Gustafson\\
\noindent Texas A\&M University - Math 666\\ 
\noindent Instructor: Igor Zelenko

\subsection*{HW 1}
\p{1}  Write the control system on $M = \R^2 \times \mathbb{T}^3$ corresponding to the car with two off-hook trailers system.
\begin{proof}
Let $n_i = (\cos \theta_i, \sin \theta_i)$ and $n_i' = (-\sin \theta_i , \cos \theta_i)$ for $0 \le i \le 2$.
Then $n_i \cdot n_j  = \cos(\theta_i - \theta_j) = n_i' \cdot n_j'$ and $n_i \cdot n_j' = \sin(\theta_i - \theta_j)$.

Let $v_2$ denote the velocity of the car, and $v_i$ denote the velocity of the $(n-i)$-th trailer. Let $v_{1.5}$ denote the velocity of the first hook, and $v_{0.5}$ denote the velocity of the second hook. Let $\omega_i = \pder[\theta_i]{t}$.  


In the case of linear motion of the car, we have $v_2 = v n_2$ and $\omega_2 = 0$. Hence,
\begin{align*}
v_{1.5} & = v n_2
\\
\\ v_1 & = (v_{1.5} \cdot n_1) n_1 
\\ & = (v n_2 \cdot n_1) n_1 
\\ & = \cos(\theta_2 - \theta_1) n_1
\\
\\ \omega_1 & = v_{1.5} \cdot n_1' 
\\ & = v n_2 \cdot n_1' 
\\ & = v \sin(\theta_2 - \theta_1)
\\
\\ v_{0.5} & = v_1  - \omega_1 n_1' 
\\ & = v \cos(\theta_2 - \theta_1) n_1 - v \sin(\theta_2 - \theta_1) n_1'
\\
\\ \omega_0 & = v_{0.5} \cdot n_0'
\\ & = v \cos(\theta_2 - \theta_1) n_1 \cdot n_0' - v \sin(\theta_2 - \theta_1) n_1' \cdot n_0'
\\ &  = v \cos(\theta_2 - \theta_1) \sin(\theta_1 - \theta_0) - v \sin(\theta_2 - \theta_1) \cos(\theta_1 - \theta_0)
\\ &  = v \sin((\theta_1 - \theta_0) - (\theta_2 - \theta_1))
\\ &  = v \sin(2 \theta_1 - \theta_0 - \theta_2 ).
\end{align*}

For the case of the car turning, we have $v_2 = 0$ and $\omega_2 = \omega$. Hence,
\begin{align*}
v_{1.5} & =  -\omega n_2'
\\
\\ v_1 & =  (v_{1.5} \cdot n_1) n_1
\\ & =  (-\omega n_2' \cdot n_1) n_1
\\ & = \omega \sin(\theta_2 - \theta_1) n_1
\\
\\ \omega_1 & =  v_{1.5} \cdot n_1'
\\ & = - \omega n_2' \cdot n_1'
\\ & =  -\omega \cos(\theta_2 - \theta_1)
\\
\\ v_{0.5} & =  v_1  - \omega_1 n_1'
\\ & = \omega \sin(\theta_2 - \theta_1) n_1 + \omega \cos(\theta_2 - \theta_1) n_1'
\\
\\  \omega_0 & = v_{0.5} \cdot n_0'
\\ & = \omega \sin(\theta_2 - \theta_1) n_1 \cdot n_0' + \omega \cos(\theta_2 - \theta_1) n_1' \cdot n_0'
\\ & = \omega \sin(\theta_2 - \theta_1) \sin(\theta_1 - \theta_0) + \omega \cos(\theta_2 - \theta_1) \cos(\theta_1 - \theta_0)
\\ & = \omega \cos(2 \theta_1 - \theta_0 - \theta_2)
\end{align*}

Hence the control system for $M$ is given by the family of vector fields $\mathcal F = \{\pm X_1, \pm X_2\}$, where
$$X_1 = \cos(\theta_2) \pder x  + \sin(\theta_0) \pder y  + \sin(\theta_2 - \theta_1)  \pder {\theta_1} + A \pder {\theta_0}$$
with $A = \sin(2 \theta_1 - \theta_0 - \theta_2)$,
and
$$X_2 =  \pder {\theta_2} - \cos(\theta_2 - \theta_1) \pder {\theta_1} + B \pder {\theta_0}$$
with $B = \cos(2 \theta_1 - \theta_0 - \theta_2)$.
\end{proof}


\p{2} Find all points $q \in M$ such that $\mathcal F$ is bracket-generating. At these points, calculate the degree of nonholonomy of $\mathcal F$.
\begin{proof}
Hence,
\begin{align*}
[X_1, X_2] & = \left[ \cos(\theta_2) \pder x  + \sin(\theta_2) \pder y  + \sin(\theta_2 - \theta_1)  \pder {\theta_1} + A \pder {\theta_0}, \right.
\\ & \quad \quad \left. \pder {\theta_2} - \cos(\theta_2 - \theta_1) \pder {\theta_1} + B \pder {\theta_0} \right]
%\\ & = \cos(\theta_2) \pder[X_2] x  + \sin(\theta_2) \pder[X_2] y  + \sin(\theta_2 - \theta_1)  \pder[X_2] {\theta_1} + A \pder[X_2] {\theta_0}
%\\ & \quad \quad - \left( \pder[X_1] {\theta_2} - \cos(\theta_2 - \theta_1) \pder [X_1] {\theta_1} + B \pder[X_1] {\theta_0} \right)
\\ & =  \sin(\theta_2 - \theta_1) \left( -\sin(\theta_2 - \theta_1) \pder {\theta_1} + \pder[B] {\theta_1} \pder {\theta_0} \right) + A \pder[B] {\theta_0} \pder {\theta_0}
\\ & \quad \quad - \left( -\sin(\theta_2) \pder x + \cos(\theta_2) \pder y + \cos (\theta_2 - \theta_1) \pder {\theta_1} + \pder[A] {\theta_1} \pder {\theta_0} \right) 
\\ & \quad \quad + \cos(\theta_2 - \theta_1) \left( -\cos(\theta_2 - \theta_1) \pder {\theta_1} + \pder[A] {\theta_1} \pder {\theta_0} \right) - B \pder[A] {\theta_0} \pder {\theta_0}
\\ & = \sin(\theta_2) \pder x  - \cos(\theta_2) \pder y + 
\\ & \quad \quad \left(- \sin^2(\theta_2 - \theta_1) - \cos (\theta_2 - \theta_1) + \cos^2(\theta_2 - \theta_1) \right) \pder {\theta_1} + 
\\ & \quad \quad + \left(  \sin (\theta_2 - \theta_1) \pder[B] {\theta_1}  + A \pder[B] {\theta_0} +  \pder[A]{\theta_1} + \cos(\theta_2 - \theta_1) \pder[A] {\theta_1} - B \pder[A]{\theta_0} \right) \pder {\theta_0}
\\ & = \sin(\theta_2) \pder x  - \cos(\theta_2) \pder y + (\cos(2 \theta_2 - 2 \theta_1) - \cos(\theta_2 - \theta_1) \pder {\theta_1}
\\ & \quad \quad + \left(  \sin (\theta_2 - \theta_1) (-2A)  + A^2 +  2B + \cos(\theta_2 - \theta_1) (2B) - B(-B) \right) \pder {\theta_0}
\\ & = \sin(\theta_2) \pder x  - \cos(\theta_2) \pder y + (\cos(2 \theta_2 - 2 \theta_1) - \cos(\theta_2 - \theta_1)) \pder {\theta_1}
\\ & \quad \quad  + \left( 2 \cos((\theta_2 - \theta_1) + (2\theta_1 - \theta_0 - \theta_2)) +  2B + 1  \right) \pder {\theta_0}
\\ & = \sin(\theta_2) \pder x  - \cos(\theta_2) \pder y + C \pder {\theta_1} + D \pder {\theta_0},
\end{align*}
where $C = \cos(2 \theta_2 - 2 \theta_1) - \cos(\theta_2 - \theta_1) $
 and $D = 2 \cos(\theta_1 - \theta_0) +  2 \cos(2 \theta_1 - \theta_0 - \theta_2) + 1$.

Then 
\begin{align*}
[X_1, [X_1, X_2]] & = \left[ \cos(\theta_2) \pder x  + \sin(\theta_2) \pder y  + \sin(\theta_2 - \theta_1)  \pder {\theta_1} + A \pder {\theta_0}, \right.
\\ & \quad \quad \left.  \sin(\theta_2) \pder x  - \cos(\theta_2) \pder y + C \pder {\theta_1} + D \pder {\theta_0} \right]
%\\ & = \sin(\theta_2 - \theta_1)  \pder [{[X_1, X_2]}] {\theta_1} + A \pder [{[X_1, X_2]}] {\theta_0} 
%- \left( C \pder [X_1] {\theta_1} + D \pder [X_1] {\theta_0} \right)
\\ & = \sin(\theta_2 - \theta_1) \left( \pder [C] {\theta_1} \pder {\theta_1} + \pder [D] {\theta_1} \pder {\theta_0} \right)
 + A \pder [D] {\theta_0} \pder {\theta_0}
\\ & \quad \quad - C \left( -\cos(\theta_2 - \theta_1) \pder {\theta_1} + \pder [A] {\theta_1} \pder {\theta_0} \right) + D \pder [A] {\theta_0} \pder {\theta_0}
\\ & = \left(  \sin(\theta_2 - \theta_1) \pder[C]{\theta_1} + C \cos(\theta_2 - \theta_1) \right)\pder {\theta_1}
\\ & \quad \quad \left( \sin(\theta_2 - \theta_1) \pder[D]{\theta_1} + A \pder[D]{\theta_0} - C \pder[A]{\theta_1} + D \pder[A]{\theta_0} \right) \pder {\theta_0}
\end{align*}
and
\begin{align*}
[X_2, [X_1, X_2]] & = \left[  \pder {\theta_2} - \cos(\theta_2 - \theta_1) \pder {\theta_1} + B \pder {\theta_0}  ,\right.
\\ & \quad \quad \left.  \sin(\theta_2) \pder x  - \cos(\theta_2) \pder y + C \pder {\theta_1} + D \pder {\theta_0} \right]
\\ & = \cos(\theta_2) \d x + \sin(\theta_2) \d y + \d[C]{\theta_2} \d{\theta_1} + \d[D]{\theta_2} \d{\theta_0}
\\ & \quad \quad -\cos(\theta_2 - \theta_1) \left(\d[C]{\theta_1} \d{\theta_1} + \d[D]{\theta_1} \d{\theta_0}\right) + B \d[D]{\theta_0} \d{\theta_0}
\\ & \quad \quad - C \left( -\sin(\theta_2 - \theta_1) \d{\theta_1} + \d[B]{\theta_1} \d{\theta_0} \right) - D \d[B]{\theta_0} \d{\theta_0}
\\ & = \cos(\theta_2) \d x + \sin(\theta_2) \d y 
\\ & \quad \quad + \left(\d[C]{\theta_2}  - \cos(\theta_2 - \theta_1) \d[C]{\theta_1} + C \sin(\theta_2 - \theta_1) \right) \d{\theta_1} 
\\ & \quad \quad + \left( \d[D]{\theta_2} - \cos(\theta_2 - \theta_1) \d[D]{\theta_1} + B \d[D]{\theta_0} - C \d[B]{\theta_1} - D \d[B]{\theta_0} \right) \d{\theta_0}
\end{align*}

% GET RID OF d_x d_y by changing basis by rotation matrix ?? not worth bother.

\end{proof}


\p{3} Let $\widetilde M$ denote the set of bracket-generating points of $\mathcal F$. Prove that the system is controllable on $\widetilde M$.


\end{document}
